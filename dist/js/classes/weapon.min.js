var WEAPONTYPE={MACE:0,SWORD:1,DAGGER:2,AXE:3,FIST:4,POLEARM:5,STAFF:6};class Weapon{constructor(s,t,i,e,h,m){this.player=s,this.name=t.name,this.mindmg=t.mindmg,this.maxdmg=t.maxdmg,this.type=t.type,this.modifier=s.talents.naturalistmod,this.speed=t.speed,this.timer=0,this.normspeed=2.5,this.offhand=h,this.twohand=m,this.crit=0,this.basebonusdmg=0,this.bonusdmg=0,this.type=WEAPONTYPE[t.type.toUpperCase()]||0,this.totaldmg=0,this.totalprocdmg=0,this.data=[0,0,0,0,0],this.player.items.includes(21189)&&(this.basebonusdmg+=4),this.bonusdmg=this.basebonusdmg}dmg(s){let t;return t=this.player.weaponrng?rng(this.mindmg+this.bonusdmg,this.maxdmg+this.bonusdmg)+this.player.stats.ap/14*this.speed:avg(this.mindmg+this.bonusdmg,this.maxdmg+this.bonusdmg)+this.player.stats.ap/14*this.speed,s&&(t+=s.bonus),t*this.modifier}avgdmg(){let s=(this.mindmg+this.bonusdmg+this.maxdmg+this.bonusdmg)/2+this.player.stats.ap/14*this.normSpeed;return s*=this.modifier*this.player.stats.dmgmod*(1-this.player.armorReduction)}use(){this.timer=Math.round(1e3*this.speed/this.player.stats.haste)}step(s){this.timer-=s}}