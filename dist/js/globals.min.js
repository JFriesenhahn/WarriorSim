function getGlobalsDelta(){const e={};for(const t in gear)e[t]=gear[t].map(e=>({id:e.id,dps:e.dps,selected:e.selected,hidden:e.hidden}));const t={};for(const e in enchant)t[e]=enchant[e].map(e=>({id:e.id,dps:e.dps,selected:e.selected,hidden:e.hidden}));return{talents:talents.map(e=>({t:e.t.map(e=>e.c)})),buffs:buffs.filter(e=>e.active).map(e=>e.id),rotation:spells,gear:e,enchant:t}}function updateGlobals(e){for(let t in e.talents){console.log(t);for(let n in e.talents[t].t)console.log(n),talents[t].t[n].c=e.talents[t].t[n]}for(let t of e.buffs)for(let e of buffs)t==e.id&&(e.active=!0);for(let t of e.rotation)for(let e of spells)if(t.id==e.id)for(let n in t)e[n]=t[n];for(let t in e.gear)for(let n of e.gear[t])if(gear[t])for(let e of gear[t])n.id==e.id&&(e.dps=n.dps,e.selected=n.selected,e.hidden=n.hidden);for(let t in e.enchant)for(let n of e.enchant[t])for(let e of enchant[t])n.id==e.id&&(e.dps=n.dps,e.selected=n.selected,e.hidden=n.hidden)}